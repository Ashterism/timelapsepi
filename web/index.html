<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TimelapsePi</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>ðŸ“· TimelapsePi</h1>

  <button onclick="fetch('/photo').then(r => r.text()).then(alert)">Take Test Photo</button>
  <button onclick="fetch('/start').then(r => r.text()).then(alert)">Start Capture</button>
  <button onclick="fetch('/mode/wifi').then(r => r.text()).then(alert)">Switch to Wi-Fi</button>

  <div id="preview">
    <h2>Preview</h2>
    <img id="photo" src="/latest.jpg" style="width: 100%; max-width: 400px;" alt="No photo yet" onerror="this.onerror=null; this.src='no-preview.png'; this.alt='No preview available';">
  </div>

  <script>
    setInterval(() => {
      document.getElementById("photo").src = `/latest.jpg?${Date.now()}`;
    }, 5000);
  </script>
</body>
</html>